<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>WISMAS: Référence de la classe Video</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="icone-wismas.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">WISMAS
   &#160;<span id="projectnumber">1.1</span>
   </div>
   <div id="projectbrief">BTS SN-IR La Salle Avignon 2018</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Généré par Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&#160;associées</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Fichiers</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Liste&#160;des&#160;classes</span></a></li>
      <li><a href="classes.html"><span>Index&#160;des&#160;classes</span></a></li>
      <li><a href="functions.html"><span>Membres&#160;de&#160;classe</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-slots">Connecteurs publics</a> &#124;
<a href="#signals">Signaux</a> &#124;
<a href="#pub-methods">Fonctions membres publiques</a> &#124;
<a href="#pub-static-methods">Fonctions membres publiques statiques</a> &#124;
<a href="#pri-methods">Fonctions membres privées</a> &#124;
<a href="#pri-attribs">Attributs privés</a>  </div>
  <div class="headertitle">
<div class="title">Référence de la classe Video</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Video" -->
<p>Traiter les vidéos capturer par le système vidéo.  
 <a href="class_video.html#details">Plus de détails...</a></p>

<p><code>#include &lt;<a class="el" href="_video_8h_source.html">Video.h</a>&gt;</code></p>

<p><a href="class_video-members.html">Liste de tous les membres</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-slots"></a>
Connecteurs publics</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Arrêter la capture d'image vidéo.  <a href="#a4bc275ef80414fe7697e094fd5f3503b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#acdaddef07743f316c8f5d79cca57b679">progresser</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Actualiser la barre de progression de l'acquisition vidéo.  <a href="#acdaddef07743f316c8f5d79cca57b679"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a1b1af36597febfe808d825884af7ce22">supprimerEnregistrements</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Supprimer les vidéos enregistrées.  <a href="#a1b1af36597febfe808d825884af7ce22"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="signals"></a>
Signaux</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a3aeb5a41488ba8ef9da9f71d886a3d8b">fini</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#aa61c26bedbde2eadb23d910b05535ad8">progression</a> (int <a class="el" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a>) const </td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Fonctions membres publiques</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#ab67336c2c5b6227a9635bc7dcd6af543">Video</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructeur.  <a href="#ab67336c2c5b6227a9635bc7dcd6af543"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#aebf7e2a8fa2bbd79335b1cf35925d190">~Video</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructeur.  <a href="#aebf7e2a8fa2bbd79335b1cf35925d190"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo</a> (const int numeroCamera, const QString nomSite, const QString adresseIP, const QString numeroPort, const QString identifiant, const QString motDePasse, const int <a class="el" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enregistrer la vidéo capturée par une caméra.  <a href="#ab67cfc121df82e16debeff8cde097b91"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Fonctions membres publiques statiques</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#ad6989d49472e16fe69fd69f96f4ae7a4">arreterEnregistrements</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Arrêter tous les enregistrements en cours d'exécution.  <a href="#ad6989d49472e16fe69fd69f96f4ae7a4"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Fonctions membres privées</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a0bfe515d265e4cbcea750ebbd4beb3b3">getNumeroVideo</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Accesseur de nbVideos.  <a href="#a0bfe515d265e4cbcea750ebbd4beb3b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a1d183c1ba9db1ad5d50d0918fd0d9a92">creerCheminVideo</a> (int numeroCamera)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Créer le chemin où enregistrer les vidéos.  <a href="#a1d183c1ba9db1ad5d50d0918fd0d9a92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a4b892addfc97157fa8298a302348d6c8">demarrerTimers</a> (int <a class="el" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Démarrer les timers.  <a href="#a4b892addfc97157fa8298a302348d6c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a1a772ebcede6b93ddd819d349c8e3fb1">arreterTimers</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Arrêter les timers.  <a href="#a1a772ebcede6b93ddd819d349c8e3fb1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#aa7814cb4c02b4d68ee4d553a3adde539">verifierDossierEnregistrements</a> (QDir &amp;repertoire) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Vérifier si les répertoires des enregistrements pour chaque site sont p.  <a href="#aa7814cb4c02b4d68ee4d553a3adde539"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a3a5f1b358bce08c21a3a0f6a5ea6cb53">supprimerTousLesEnregistrements</a> (QDir &amp;repertoire) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Supprimer les vidéos enregistrées.  <a href="#a3a5f1b358bce08c21a3a0f6a5ea6cb53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a5ef714ff3529e31935b23bcaa8b2f801">supprimerNbEnregistrements</a> (QDir &amp;repertoire) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Supprimer les vidéos enregistrées.  <a href="#a5ef714ff3529e31935b23bcaa8b2f801"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Attributs privés</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QProcess *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QTimer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QTimer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#ab33cabae38734035d8c7e87a729dc3ff">numeroVideo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">fichierINI</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Description détaillée</h2>
<div class="textblock"><dl class="author"><dt><b>Auteur:</b></dt><dd>Pierre GRELET</dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.1</dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>15 mars 2018 </dd></dl>
</div><hr/><h2>Documentation des constructeurs et destructeur</h2>
<a class="anchor" id="ab67336c2c5b6227a9635bc7dcd6af543"></a><!-- doxytag: member="Video::Video" ref="ab67336c2c5b6227a9635bc7dcd6af543" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_video.html#ab67336c2c5b6227a9635bc7dcd6af543">Video::Video</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Références <a class="el" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a>, <a class="el" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a>, <a class="el" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">fichierINI</a>, <a class="el" href="class_video.html#ab33cabae38734035d8c7e87a729dc3ff">numeroVideo</a>, <a class="el" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a>, <a class="el" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a>, et <a class="el" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a>.</p>
<div class="fragment"><pre class="fragment">{     
<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    <a class="code" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a> = <span class="keyword">new</span> QProcess(<span class="keyword">this</span>); <span class="comment">// Crée l&#39;objet processus</span>
    <a class="code" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a> = <span class="keyword">new</span> QTimer(<span class="keyword">this</span>);
    <a class="code" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a> = <span class="keyword">new</span> QTimer(<span class="keyword">this</span>);

    <a class="code" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">fichierINI</a> = QApplication::applicationDirPath() + <span class="stringliteral">&quot;/&quot;</span> + <span class="stringliteral">&quot;configuration-cameras.ini&quot;</span>;

    <a class="code" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a> = <span class="keyword">false</span>;
    <a class="code" href="class_video.html#ab33cabae38734035d8c7e87a729dc3ff">numeroVideo</a> = 1;
    <a class="code" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a> = 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aebf7e2a8fa2bbd79335b1cf35925d190"></a><!-- doxytag: member="Video::~Video" ref="aebf7e2a8fa2bbd79335b1cf35925d190" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_video.html#aebf7e2a8fa2bbd79335b1cf35925d190">Video::~Video</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<hr/><h2>Documentation des fonctions membres</h2>
<a class="anchor" id="a4bc275ef80414fe7697e094fd5f3503b"></a><!-- doxytag: member="Video::arreter" ref="a4bc275ef80414fe7697e094fd5f3503b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">Video::arreter</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Références <a class="el" href="class_video.html#a1a772ebcede6b93ddd819d349c8e3fb1">arreterTimers()</a>, <a class="el" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a>, <a class="el" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a>, <a class="el" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a>, et <a class="el" href="class_video.html#aa61c26bedbde2eadb23d910b05535ad8">progression()</a>.</p>

<p>Référencé par <a class="el" href="class_camera.html#af36a4a47fb14c6419a3f00330948e79a">Camera::arreter()</a>, <a class="el" href="class_video.html#a1a772ebcede6b93ddd819d349c8e3fb1">arreterTimers()</a>, <a class="el" href="class_video.html#a4b892addfc97157fa8298a302348d6c8">demarrerTimers()</a>, <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>, et <a class="el" href="class_video.html#acdaddef07743f316c8f5d79cca57b679">progresser()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    <span class="keywordflow">if</span>(<a class="code" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a> == <span class="keyword">true</span>)
    {
        <a class="code" href="class_video.html#a1a772ebcede6b93ddd819d349c8e3fb1" title="Arrêter les timers.">arreterTimers</a>();
        <a class="code" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a>-&gt;terminate();
        this-&gt;<a class="code" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a> = <span class="keyword">false</span>;

        <a class="code" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a> = 0;
        emit <a class="code" href="class_video.html#aa61c26bedbde2eadb23d910b05535ad8">progression</a>(<a class="code" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad6989d49472e16fe69fd69f96f4ae7a4"></a><!-- doxytag: member="Video::arreterEnregistrements" ref="ad6989d49472e16fe69fd69f96f4ae7a4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#ad6989d49472e16fe69fd69f96f4ae7a4">Video::arreterEnregistrements</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Méthode statique </p>

<p>Références <a class="el" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a>.</p>

<p>Référencé par <a class="el" href="class_i_h_m_wismas.html#a59045651e49274e1d51b0c8dd12b19df">IHMWismas::~IHMWismas()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QString programme = <span class="stringliteral">&quot;killall&quot;</span>; <span class="comment">// le nom du programme</span>
    QStringList arguments; <span class="comment">// arguments du programme</span>

    arguments &lt;&lt; <span class="stringliteral">&quot;vlc&quot;</span>;

<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; programme &lt;&lt; arguments;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    QProcess *<a class="code" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a> = <span class="keyword">new</span> QProcess();
    processus-&gt;startDetached(programme, arguments);
    <span class="keyword">delete</span> <a class="code" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1a772ebcede6b93ddd819d349c8e3fb1"></a><!-- doxytag: member="Video::arreterTimers" ref="a1a772ebcede6b93ddd819d349c8e3fb1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#a1a772ebcede6b93ddd819d349c8e3fb1">Video::arreterTimers</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Références <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter()</a>, <a class="el" href="class_video.html#acdaddef07743f316c8f5d79cca57b679">progresser()</a>, <a class="el" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a>, et <a class="el" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a>.</p>

<p>Référencé par <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    <span class="keywordflow">if</span>(<a class="code" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a>-&gt;isActive())
        <a class="code" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a>-&gt;stop();
    <span class="keywordflow">if</span>(<a class="code" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a>-&gt;isActive())
        <a class="code" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a>-&gt;stop();

    disconnect(<a class="code" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a>, SIGNAL(timeout()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_video.html#acdaddef07743f316c8f5d79cca57b679" title="Actualiser la barre de progression de l&#39;acquisition vidéo.">progresser</a>()));
    disconnect(<a class="code" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a>, SIGNAL(timeout()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b" title="Arrêter la capture d&#39;image vidéo.">arreter</a>()));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1d183c1ba9db1ad5d50d0918fd0d9a92"></a><!-- doxytag: member="Video::creerCheminVideo" ref="a1d183c1ba9db1ad5d50d0918fd0d9a92" args="(int numeroCamera)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#a1d183c1ba9db1ad5d50d0918fd0d9a92">Video::creerCheminVideo</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numeroCamera</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Références <a class="el" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a>, et <a class="el" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">fichierINI</a>.</p>

<p>Référencé par <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QSettings configuration(<a class="code" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">fichierINI</a>, QSettings::IniFormat);
    QString identifiantCamera = <span class="stringliteral">&quot;Camera&quot;</span> + QString::number(numeroCamera);

    <a class="code" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a> = configuration.value(identifiantCamera + <span class="stringliteral">&quot;/chemin_video&quot;</span>, <span class="stringliteral">&quot;./videos/&quot;</span>).toString();

<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <a class="code" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a>;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a4b892addfc97157fa8298a302348d6c8"></a><!-- doxytag: member="Video::demarrerTimers" ref="a4b892addfc97157fa8298a302348d6c8" args="(int duree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#a4b892addfc97157fa8298a302348d6c8">Video::demarrerTimers</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>duree</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="params"><dt><b>Paramètres:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">duree</td><td>int duree d'enregistrement </td></tr>
  </table>
  </dd>
</dl>

<p>Références <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter()</a>, <a class="el" href="class_video.html#acdaddef07743f316c8f5d79cca57b679">progresser()</a>, <a class="el" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a>, et <a class="el" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a>.</p>

<p>Référencé par <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    <span class="keywordflow">if</span>(<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a> != 0)
    {
        <a class="code" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a>-&gt;start((<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>*1000)/100);
        <a class="code" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a>-&gt;start(<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>*1000);
        connect(<a class="code" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">timerProgression</a>, SIGNAL(timeout()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_video.html#acdaddef07743f316c8f5d79cca57b679" title="Actualiser la barre de progression de l&#39;acquisition vidéo.">progresser</a>()));
        connect(<a class="code" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">timerEnregistrement</a>, SIGNAL(timeout()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b" title="Arrêter la capture d&#39;image vidéo.">arreter</a>()));

<span class="preprocessor">        #ifdef DEBUG</span>
<span class="preprocessor"></span>        qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;timer progression&quot;</span> &lt;&lt; ((<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>*1000)/100);
        qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;timer enregistrement&quot;</span> &lt;&lt; (<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>*1000);
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab67cfc121df82e16debeff8cde097b91"></a><!-- doxytag: member="Video::enregistrerVideo" ref="ab67cfc121df82e16debeff8cde097b91" args="(const int numeroCamera, const QString nomSite, const QString adresseIP, const QString numeroPort, const QString identifiant, const QString motDePasse, const int duree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">Video::enregistrerVideo</a> </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>numeroCamera</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString&#160;</td>
          <td class="paramname"><em>nomSite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString&#160;</td>
          <td class="paramname"><em>adresseIP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString&#160;</td>
          <td class="paramname"><em>numeroPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString&#160;</td>
          <td class="paramname"><em>identifiant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString&#160;</td>
          <td class="paramname"><em>motDePasse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>duree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="params"><dt><b>Paramètres:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">numeroCamera</td><td>int le numéro de la caméra </td></tr>
    <tr><td class="paramname">nomSite</td><td>QString le nom du site </td></tr>
    <tr><td class="paramname">adresseIP</td><td>QString l'adresse IP </td></tr>
    <tr><td class="paramname">numeroPort</td><td>QString le numéro de port </td></tr>
    <tr><td class="paramname">identifiant</td><td>QString le nom de l'administrateur </td></tr>
    <tr><td class="paramname">motDePasse</td><td>QString le mot de passe administrateur </td></tr>
    <tr><td class="paramname">duree</td><td>int le temps d'enregistrement </td></tr>
  </table>
  </dd>
</dl>

<p>Références <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter()</a>, <a class="el" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a>, <a class="el" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a>, <a class="el" href="class_video.html#a1d183c1ba9db1ad5d50d0918fd0d9a92">creerCheminVideo()</a>, <a class="el" href="class_video.html#a4b892addfc97157fa8298a302348d6c8">demarrerTimers()</a>, <a class="el" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>, <a class="el" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a>, <a class="el" href="class_video.html#a0bfe515d265e4cbcea750ebbd4beb3b3">getNumeroVideo()</a>, <a class="el" href="class_video.html#ab33cabae38734035d8c7e87a729dc3ff">numeroVideo</a>, <a class="el" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a>, et <a class="el" href="class_video.html#aa7814cb4c02b4d68ee4d553a3adde539">verifierDossierEnregistrements()</a>.</p>

<p>Référencé par <a class="el" href="class_camera.html#a7bcf35d97c3ffcca766f80df540330cb">Camera::enregistrer()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QDir repertoire(<a class="code" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a>);

    QString programme; <span class="comment">// Le nom du programme</span>
    QStringList arguments; <span class="comment">// Arguments du programme</span>

    QString nomFichier;
    QString extension;

    <span class="comment">/*</span>
<span class="comment">        Commandes d&#39;enregistrement video avec cvlc :</span>
<span class="comment"></span>
<span class="comment">        Le flux video de la camera est en MJPEG</span>
<span class="comment"></span>
<span class="comment">        - en mjpg : cvlc &quot;http://192.168.52.221:99/videostream.cgi?user=admin&amp;pwd=&amp;resolution=32&amp;rate=0&quot; --sout file/ts:./video-test.mjpg;</span>
<span class="comment"></span>
<span class="comment">        - en mp4 : cvlc &quot;http://192.168.52.221:99/videostream.cgi?user=admin&amp;pwd=&amp;resolution=32&amp;rate=0&quot; --sout &#39;#transcode{vcodec=h264} :file{mux=ts,dst=test.mpg}&#39;</span>
<span class="comment">    */</span>

    <span class="keywordflow">if</span>(<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a> != 0)
    {
        <span class="comment">// Enregistrement en cours ?</span>
        <span class="keywordflow">if</span>(<a class="code" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a> == <span class="keyword">true</span>)
        {
<span class="preprocessor">            #ifdef DEBUG</span>
<span class="preprocessor"></span>            qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Fin de l&#39;enregistrement&quot;</span>;
<span class="preprocessor">            #endif</span>
<span class="preprocessor"></span>
            <a class="code" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b" title="Arrêter la capture d&#39;image vidéo.">arreter</a>();
        }

        <a class="code" href="class_video.html#a1d183c1ba9db1ad5d50d0918fd0d9a92" title="Créer le chemin où enregistrer les vidéos.">creerCheminVideo</a>(numeroCamera);

        extension = <span class="stringliteral">&quot;.mp4&quot;</span>;
        nomFichier = <a class="code" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a> + QString::number(<a class="code" href="class_video.html#a0bfe515d265e4cbcea750ebbd4beb3b3" title="Accesseur de nbVideos.">getNumeroVideo</a>()) + <span class="stringliteral">&quot;_&quot;</span> + nomSite + extension;

        <a class="code" href="class_video.html#aa7814cb4c02b4d68ee4d553a3adde539" title="Vérifier si les répertoires des enregistrements pour chaque site sont p.">verifierDossierEnregistrements</a>(repertoire);

        <span class="comment">// Format mp4</span>
        programme = <span class="stringliteral">&quot;./cvlc.sh&quot;</span>;
        <span class="keywordflow">if</span>(motDePasse.length() == 0)
        {
            arguments   &lt;&lt; adresseIP
                        &lt;&lt; numeroPort
                        &lt;&lt; identifiant
                        &lt;&lt; nomFichier
                        &lt;&lt; QString::number(<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>);
        }
        <span class="keywordflow">else</span>
        {
            arguments   &lt;&lt; adresseIP
                        &lt;&lt; numeroPort
                        &lt;&lt; identifiant
                        &lt;&lt; motDePasse
                        &lt;&lt; nomFichier
                        &lt;&lt; QString::number(<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>);
        }

<span class="preprocessor">        #ifdef DEBUG</span>
<span class="preprocessor"></span>        <span class="comment">//qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; programme &lt;&lt; arguments;</span>
        qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;FICHIER : &quot;</span> + nomFichier;
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>
        <a class="code" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">processus</a>-&gt;start(programme, arguments);

        <a class="code" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a> = <span class="keyword">true</span>;
        <a class="code" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a> = 0;
        <a class="code" href="class_video.html#ab33cabae38734035d8c7e87a729dc3ff">numeroVideo</a>++;

        this-&gt;<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a> = <a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>;
        <a class="code" href="class_video.html#a4b892addfc97157fa8298a302348d6c8" title="Démarrer les timers.">demarrerTimers</a>(<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3aeb5a41488ba8ef9da9f71d886a3d8b"></a><!-- doxytag: member="Video::fini" ref="a3aeb5a41488ba8ef9da9f71d886a3d8b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#a3aeb5a41488ba8ef9da9f71d886a3d8b">Video::fini</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0bfe515d265e4cbcea750ebbd4beb3b3"></a><!-- doxytag: member="Video::getNumeroVideo" ref="a0bfe515d265e4cbcea750ebbd4beb3b3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_video.html#a0bfe515d265e4cbcea750ebbd4beb3b3">Video::getNumeroVideo</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Renvoie:</b></dt><dd>int le nombre de vidéos </dd></dl>

<p>Références <a class="el" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">fichierINI</a>, et <a class="el" href="class_video.html#ab33cabae38734035d8c7e87a729dc3ff">numeroVideo</a>.</p>

<p>Référencé par <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <a class="code" href="class_video.html#ab33cabae38734035d8c7e87a729dc3ff">numeroVideo</a>;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    QSettings configuration(<a class="code" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">fichierINI</a>, QSettings::IniFormat);
    <span class="keywordtype">int</span> totalEnregistrement = configuration.value(<span class="stringliteral">&quot;nb_videos&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>).toInt();

    <span class="keywordflow">if</span>(numeroVideo &gt; totalEnregistrement)
        numeroVideo = 1;

    <span class="keywordflow">return</span> <a class="code" href="class_video.html#ab33cabae38734035d8c7e87a729dc3ff">numeroVideo</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acdaddef07743f316c8f5d79cca57b679"></a><!-- doxytag: member="Video::progresser" ref="acdaddef07743f316c8f5d79cca57b679" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#acdaddef07743f316c8f5d79cca57b679">Video::progresser</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Références <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter()</a>, <a class="el" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a>, <a class="el" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>, et <a class="el" href="class_video.html#aa61c26bedbde2eadb23d910b05535ad8">progression()</a>.</p>

<p>Référencé par <a class="el" href="class_video.html#a1a772ebcede6b93ddd819d349c8e3fb1">arreterTimers()</a>, et <a class="el" href="class_video.html#a4b892addfc97157fa8298a302348d6c8">demarrerTimers()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a> == <a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>*1000)
    {
<span class="preprocessor">        #ifdef DEBUG</span>
<span class="preprocessor"></span>        qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Fin de l&#39;enregistrement&quot;</span>;
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>
        <a class="code" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b" title="Arrêter la capture d&#39;image vidéo.">arreter</a>();
    }
    <span class="keywordflow">else</span>
    {
        <a class="code" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a> += ((<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>*1000)/100); <span class="comment">// en pourcentage</span>
        emit <a class="code" href="class_video.html#aa61c26bedbde2eadb23d910b05535ad8">progression</a>(((<span class="keywordtype">double</span>)<a class="code" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">chargement</a>/((<span class="keywordtype">double</span>)<a class="code" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">duree</a>*1000.))*100.);

<span class="preprocessor">        #ifdef DEBUG</span>
<span class="preprocessor"></span>        <span class="comment">//qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; (((double)chargement/((double)duree*1000.))*100.) &lt;&lt; chargement &lt;&lt; (duree*1000);</span>
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>    }    
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa61c26bedbde2eadb23d910b05535ad8"></a><!-- doxytag: member="Video::progression" ref="aa61c26bedbde2eadb23d910b05535ad8" args="(int chargement) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#aa61c26bedbde2eadb23d910b05535ad8">Video::progression</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chargement</em></td><td>)</td>
          <td> const<code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter()</a>, et <a class="el" href="class_video.html#acdaddef07743f316c8f5d79cca57b679">progresser()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b1af36597febfe808d825884af7ce22"></a><!-- doxytag: member="Video::supprimerEnregistrements" ref="a1b1af36597febfe808d825884af7ce22" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#a1b1af36597febfe808d825884af7ce22">Video::supprimerEnregistrements</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Les enregistrements sont supprimés selon le niveau de supression indiqué dans le fichier de configuration </p>
<dl class="params"><dt><b>Paramètres:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">nomSite</td><td>QString le nom du site </td></tr>
  </table>
  </dd>
</dl>

<p>Références <a class="el" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a>, <a class="el" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">fichierINI</a>, <a class="el" href="class_video.html#a5ef714ff3529e31935b23bcaa8b2f801">supprimerNbEnregistrements()</a>, et <a class="el" href="class_video.html#a3a5f1b358bce08c21a3a0f6a5ea6cb53">supprimerTousLesEnregistrements()</a>.</p>

<p>Référencé par <a class="el" href="class_camera.html#a2e114805ec79d304d2de4eddc4bd28c1">Camera::supprimer()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QSettings configuration(<a class="code" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">fichierINI</a>, QSettings::IniFormat);

    QDir repertoire(<a class="code" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a>);

    QString typeSuppression = configuration.value(<span class="stringliteral">&quot;niveau_suppression&quot;</span>, <span class="stringliteral">&quot;Aucun&quot;</span>).toString();

    <span class="comment">/*</span>
<span class="comment">        Un nom de fichier vidéo enregistrée :</span>
<span class="comment"></span>
<span class="comment">        - en mp4 : 1_Alpin.mp4</span>
<span class="comment">    */</span>

    <span class="keywordflow">if</span>(repertoire.exists())
    {
        <span class="keywordflow">if</span>(typeSuppression == <span class="stringliteral">&quot;Tous&quot;</span>)   <span class="comment">// Tous les fichiers seront supprimés</span>
        {
            <a class="code" href="class_video.html#a3a5f1b358bce08c21a3a0f6a5ea6cb53" title="Supprimer les vidéos enregistrées.">supprimerTousLesEnregistrements</a>(repertoire);
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(typeSuppression == <span class="stringliteral">&quot;Nb_enregistrements&quot;</span>)    <span class="comment">// Un fichier (le getNombreVideos() le plus récent) de chaque caméra sauvegardé</span>
        {
            <a class="code" href="class_video.html#a5ef714ff3529e31935b23bcaa8b2f801" title="Supprimer les vidéos enregistrées.">supprimerNbEnregistrements</a>(repertoire);
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(typeSuppression == <span class="stringliteral">&quot;Aucun&quot;</span>) <span class="comment">// Aucun fichiers supprimés</span>
        {
            <span class="comment">// Ne rien faire</span>
        }
        <span class="keywordflow">else</span>    <span class="comment">// Valeur niveau_suppression invalide</span>
        {
            <span class="comment">// Ne rien faire</span>
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5ef714ff3529e31935b23bcaa8b2f801"></a><!-- doxytag: member="Video::supprimerNbEnregistrements" ref="a5ef714ff3529e31935b23bcaa8b2f801" args="(QDir &amp;repertoire) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#a5ef714ff3529e31935b23bcaa8b2f801">Video::supprimerNbEnregistrements</a> </td>
          <td>(</td>
          <td class="paramtype">QDir &amp;&#160;</td>
          <td class="paramname"><em>repertoire</em></td><td>)</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Les enregistrements les plus anciens sont supprimés </p>
<dl class="params"><dt><b>Paramètres:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">repertoire</td><td>QDir le répertoire où se trouve les enregistrements </td></tr>
    <tr><td class="paramname">nbEnregistrementsAConserver</td><td>int le nombre d'enregistrements à conserver </td></tr>
    <tr><td class="paramname">nomSite</td><td>QString le nom du site de la caméra </td></tr>
  </table>
  </dd>
</dl>

<p>Références <a class="el" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a>.</p>

<p>Référencé par <a class="el" href="class_video.html#a1b1af36597febfe808d825884af7ce22">supprimerEnregistrements()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QStringList filtre;
    QStringList fichier;
    QString extension = <span class="stringliteral">&quot;.mp4&quot;</span>;
    filtre &lt;&lt; <span class="stringliteral">&quot;*&quot;</span> + extension;

    repertoire.setSorting(QDir::Time);

    fichier += repertoire.entryList(filtre);

    <span class="keywordflow">foreach</span>(QString <a class="code" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a>, repertoire.entryList(QDir::NoDotAndDotDot | QDir::AllEntries))
    {
        <span class="keywordflow">if</span>(enregistrement != fichier[0])
            repertoire.remove(enregistrement);

<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; fichier[0];
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3a5f1b358bce08c21a3a0f6a5ea6cb53"></a><!-- doxytag: member="Video::supprimerTousLesEnregistrements" ref="a3a5f1b358bce08c21a3a0f6a5ea6cb53" args="(QDir &amp;repertoire) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#a3a5f1b358bce08c21a3a0f6a5ea6cb53">Video::supprimerTousLesEnregistrements</a> </td>
          <td>(</td>
          <td class="paramtype">QDir &amp;&#160;</td>
          <td class="paramname"><em>repertoire</em></td><td>)</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Les enregistrements sont tous supprimés </p>
<dl class="params"><dt><b>Paramètres:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">repertoire</td><td>QDir le répertoire où se trouve les enregistrements </td></tr>
  </table>
  </dd>
</dl>

<p>Références <a class="el" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a>.</p>

<p>Référencé par <a class="el" href="class_video.html#a1b1af36597febfe808d825884af7ce22">supprimerEnregistrements()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QStringList filtre;
    QString extension = <span class="stringliteral">&quot;.mp4&quot;</span>;
    filtre &lt;&lt; <span class="stringliteral">&quot;*&quot;</span> + extension;

    <span class="keywordflow">foreach</span>(QString <a class="code" href="class_video.html#a88b49628057ab285667647802992cb74">enregistrement</a>, repertoire.entryList(filtre))
    {
        repertoire.remove(enregistrement);

<span class="preprocessor">        #ifdef DEBUG</span>
<span class="preprocessor"></span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> compteur = 0; compteur &lt; enregistrement.length(); compteur++)
            qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; repertoire.count() &lt;&lt; enregistrement.at(compteur);
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa7814cb4c02b4d68ee4d553a3adde539"></a><!-- doxytag: member="Video::verifierDossierEnregistrements" ref="aa7814cb4c02b4d68ee4d553a3adde539" args="(QDir &amp;repertoire) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_video.html#aa7814cb4c02b4d68ee4d553a3adde539">Video::verifierDossierEnregistrements</a> </td>
          <td>(</td>
          <td class="paramtype">QDir &amp;&#160;</td>
          <td class="paramname"><em>repertoire</em></td><td>)</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="params"><dt><b>Paramètres:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">repertoire</td><td>QDir le répertoire où se trouve les enregistrements </td></tr>
  </table>
  </dd>
</dl>

<p>Références <a class="el" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a>.</p>

<p>Référencé par <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">    #ifdef DEBUG</span>
<span class="preprocessor"></span>    qDebug() &lt;&lt; Q_FUNC_INFO;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    <span class="keywordflow">if</span>(!QDir(<a class="code" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a>).exists())
    {
        repertoire.mkdir(<a class="code" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">cheminVideo</a>);
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Documentation des données membres</h2>
<a class="anchor" id="a41440c41b50a44037f6bc2cc53a82c9d"></a><!-- doxytag: member="Video::chargement" ref="a41440c41b50a44037f6bc2cc53a82c9d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_video.html#a41440c41b50a44037f6bc2cc53a82c9d">Video::chargement</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter()</a>, <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>, <a class="el" href="class_video.html#acdaddef07743f316c8f5d79cca57b679">progresser()</a>, et <a class="el" href="class_video.html#ab67336c2c5b6227a9635bc7dcd6af543">Video()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d863952318a58739be22b30ba22cb3d"></a><!-- doxytag: member="Video::cheminVideo" ref="a1d863952318a58739be22b30ba22cb3d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString <a class="el" href="class_video.html#a1d863952318a58739be22b30ba22cb3d">Video::cheminVideo</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#a1d183c1ba9db1ad5d50d0918fd0d9a92">creerCheminVideo()</a>, <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>, <a class="el" href="class_video.html#a1b1af36597febfe808d825884af7ce22">supprimerEnregistrements()</a>, et <a class="el" href="class_video.html#aa7814cb4c02b4d68ee4d553a3adde539">verifierDossierEnregistrements()</a>.</p>

</div>
</div>
<a class="anchor" id="aad37ea31e894b02f8545c49182aa87df"></a><!-- doxytag: member="Video::duree" ref="aad37ea31e894b02f8545c49182aa87df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_video.html#aad37ea31e894b02f8545c49182aa87df">Video::duree</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>, et <a class="el" href="class_video.html#acdaddef07743f316c8f5d79cca57b679">progresser()</a>.</p>

</div>
</div>
<a class="anchor" id="a88b49628057ab285667647802992cb74"></a><!-- doxytag: member="Video::enregistrement" ref="a88b49628057ab285667647802992cb74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_video.html#a88b49628057ab285667647802992cb74">Video::enregistrement</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter()</a>, <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>, <a class="el" href="class_video.html#a5ef714ff3529e31935b23bcaa8b2f801">supprimerNbEnregistrements()</a>, <a class="el" href="class_video.html#a3a5f1b358bce08c21a3a0f6a5ea6cb53">supprimerTousLesEnregistrements()</a>, et <a class="el" href="class_video.html#ab67336c2c5b6227a9635bc7dcd6af543">Video()</a>.</p>

</div>
</div>
<a class="anchor" id="a54414b02400dde7e2fbf72b5b89fef39"></a><!-- doxytag: member="Video::fichierINI" ref="a54414b02400dde7e2fbf72b5b89fef39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString <a class="el" href="class_video.html#a54414b02400dde7e2fbf72b5b89fef39">Video::fichierINI</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#a1d183c1ba9db1ad5d50d0918fd0d9a92">creerCheminVideo()</a>, <a class="el" href="class_video.html#a0bfe515d265e4cbcea750ebbd4beb3b3">getNumeroVideo()</a>, <a class="el" href="class_video.html#a1b1af36597febfe808d825884af7ce22">supprimerEnregistrements()</a>, et <a class="el" href="class_video.html#ab67336c2c5b6227a9635bc7dcd6af543">Video()</a>.</p>

</div>
</div>
<a class="anchor" id="ab33cabae38734035d8c7e87a729dc3ff"></a><!-- doxytag: member="Video::numeroVideo" ref="ab33cabae38734035d8c7e87a729dc3ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_video.html#ab33cabae38734035d8c7e87a729dc3ff">Video::numeroVideo</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>, <a class="el" href="class_video.html#a0bfe515d265e4cbcea750ebbd4beb3b3">getNumeroVideo()</a>, et <a class="el" href="class_video.html#ab67336c2c5b6227a9635bc7dcd6af543">Video()</a>.</p>

</div>
</div>
<a class="anchor" id="ad77ea6c044e61f478412cca2e1bbdca5"></a><!-- doxytag: member="Video::processus" ref="ad77ea6c044e61f478412cca2e1bbdca5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QProcess* <a class="el" href="class_video.html#ad77ea6c044e61f478412cca2e1bbdca5">Video::processus</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#a4bc275ef80414fe7697e094fd5f3503b">arreter()</a>, <a class="el" href="class_video.html#ad6989d49472e16fe69fd69f96f4ae7a4">arreterEnregistrements()</a>, <a class="el" href="class_video.html#ab67cfc121df82e16debeff8cde097b91">enregistrerVideo()</a>, et <a class="el" href="class_video.html#ab67336c2c5b6227a9635bc7dcd6af543">Video()</a>.</p>

</div>
</div>
<a class="anchor" id="a854bf07ccea230c77e28a37026e3b047"></a><!-- doxytag: member="Video::timerEnregistrement" ref="a854bf07ccea230c77e28a37026e3b047" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QTimer* <a class="el" href="class_video.html#a854bf07ccea230c77e28a37026e3b047">Video::timerEnregistrement</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#a1a772ebcede6b93ddd819d349c8e3fb1">arreterTimers()</a>, <a class="el" href="class_video.html#a4b892addfc97157fa8298a302348d6c8">demarrerTimers()</a>, et <a class="el" href="class_video.html#ab67336c2c5b6227a9635bc7dcd6af543">Video()</a>.</p>

</div>
</div>
<a class="anchor" id="a5fcfa1e8ec28595497d2d3d74f6b03cf"></a><!-- doxytag: member="Video::timerProgression" ref="a5fcfa1e8ec28595497d2d3d74f6b03cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QTimer* <a class="el" href="class_video.html#a5fcfa1e8ec28595497d2d3d74f6b03cf">Video::timerProgression</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Référencé par <a class="el" href="class_video.html#a1a772ebcede6b93ddd819d349c8e3fb1">arreterTimers()</a>, <a class="el" href="class_video.html#a4b892addfc97157fa8298a302348d6c8">demarrerTimers()</a>, et <a class="el" href="class_video.html#ab67336c2c5b6227a9635bc7dcd6af543">Video()</a>.</p>

</div>
</div>
<hr/>La documentation de cette classe a été générée à partir des fichiers suivants :<ul>
<li><a class="el" href="_video_8h_source.html">Video.h</a></li>
<li><a class="el" href="_video_8cpp.html">Video.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tout</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Fichiers</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Fonctions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Définitions de type</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Généré le Jeudi Juin 7 2018 20:59:17 pour WISMAS par &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
